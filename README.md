# springboard_dev_was
Spring board



-- MEMBER 테이블
CREATE TABLE MEMBER (
    MEM_ID BIGINT NOT NULL AUTO_INCREMENT,
    ID VARCHAR(100) NOT NULL,
    PW VARCHAR(255) NOT NULL,
    NAME VARCHAR(50) NOT NULL,
    ROLE VARCHAR(20) NOT NULL,
    CREATED_DATE TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
    UPDATED_DATE TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (MEM_ID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


-- POST 테이블
CREATE TABLE POST (
    POST_ID BIGINT NOT NULL AUTO_INCREMENT,
    MEM_ID BIGINT NULL,
    CATEGORY VARCHAR(255) NULL,
    TITLE VARCHAR(255) NULL,
    CONTENT VARCHAR(255) NULL,
    VIEW_COUNT INT NULL DEFAULT 0,
    CREATED_DATE TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
    UPDATED_DATE TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    CREATED_NAME VARCHAR(255) NULL,
    UPDATED_NAME VARCHAR(255) NULL,
    PRIMARY KEY (POST_ID),
    CONSTRAINT FK_POST_MEMBER
        FOREIGN KEY (MEM_ID) REFERENCES MEMBER(MEM_ID)
        ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


-- COMMENT 테이블
CREATE TABLE COMMENT (
    COM_ID BIGINT NOT NULL AUTO_INCREMENT,
    COM_PARENT_ID BIGINT NULL,
    POST_ID BIGINT NULL,
    MEM_ID BIGINT NULL,
    CONTENT VARCHAR(255) NULL,
    PASSWORD VARCHAR(255) NULL,
    CREATED_DATE TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
    UPDATED_DATE TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    CREATED_NAME VARCHAR(255) NULL,
    UPDATED_NAME VARCHAR(255) NULL,
    PRIMARY KEY (COM_ID),
    CONSTRAINT FK_COMMENT_POST
        FOREIGN KEY (POST_ID) REFERENCES POST(POST_ID)
        ON DELETE CASCADE ON UPDATE CASCADE,
    CONSTRAINT FK_COMMENT_MEMBER
        FOREIGN KEY (MEM_ID) REFERENCES MEMBER(MEM_ID)
        ON DELETE SET NULL ON UPDATE CASCADE,
    CONSTRAINT FK_COMMENT_PARENT
        FOREIGN KEY (COM_PARENT_ID) REFERENCES COMMENT(COM_ID)
        ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


-- FILE 테이블
CREATE TABLE FILE (
    FILE_ID BIGINT NOT NULL AUTO_INCREMENT,
    POST_ID BIGINT NULL,
    UPLOAD_FILE_NAME VARCHAR(255) NULL,
    STORE_FILE_NAME VARCHAR(255) NULL,
    CREATED_DATE TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
    UPDATED_DATE TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (FILE_ID),
    CONSTRAINT FK_FILE_POST
        FOREIGN KEY (POST_ID) REFERENCES POST(POST_ID)
        ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

